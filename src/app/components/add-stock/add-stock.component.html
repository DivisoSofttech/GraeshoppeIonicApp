<ion-header>
  <ion-toolbar color="danger">

      <ion-buttons   slot="start">
          <ion-button *ngIf="selectedProduct" (click)="clear()">
          <ion-icon name="arrow-back" class="icon-size" ></ion-icon>  &nbsp;&nbsp;
          </ion-button>
          <ion-title text-center><strong>Add Stock</strong></ion-title>
     </ion-buttons>
     <ion-buttons slot="end">
        <ion-button (click)="dismiss()">
          <ion-icon name="close"></ion-icon>
        </ion-button>
        </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="!selectedProduct">
    <ion-searchbar placeholder="Search products" class="border" animated [(ngModel)]="searchTerm" (keyup)="onSearchType($event)"></ion-searchbar>
    <ion-list show-delete="false" can-swipe="true">

        <ion-item-sliding *ngFor="let product of products" (click)="selectProduct(product)" >

      <ion-item color="light">
          <ion-label>{{product.name}}</ion-label>
        </ion-item>

          </ion-item-sliding>
          </ion-list>
        </div>
  <div *ngIf="selectedProduct">
    <div margin>

      <ion-item>
        <ion-label position="floating">Product Name</ion-label>
        <ion-input type="text" disabled value="{{selectedProduct.name}}"></ion-input>
      </ion-item>
       <ion-item>

        <img *ngIf="true"  [src]="'data:' + selectedProduct.imageContentType + ';base64,' + selectedProduct.image"  />
        <!-- <ion-button fill="none" (click)="triggerUpload($event)" >
          <ion-icon name="camera" slot="icon-only"></ion-icon>
        </ion-button>
        <input hidden id="image" type="file" accept="image/*" color="danger" (change)="onSelectFile($event)"/> -->
      </ion-item>

      <!-- <ion-item>
        <ion-label position="floating">Category</ion-label>
        <ion-select disabled>
          <ion-select-option  selected >
          </ion-select-option>
        </ion-select>
      </ion-item> -->


      <ion-item *ngIf="stockCurrentDto">
        <ion-label position="floating">Sell Price</ion-label>
        <ion-input type="number" [(ngModel)]="stockCurrentDto.sellPrice" disabled  required></ion-input>

      </ion-item>

      <ion-item>
          <ion-label position="floating">Current Stock Units</ion-label>
          <ion-input *ngIf="!units" type="text" disabled [value]="0"  ></ion-input>
          <ion-input *ngIf="units" type="text" disabled [value]="units"  ></ion-input>
        </ion-item>

        <ion-item>
            <ion-label position="floating">Add Units </ion-label>
            <ion-input type="number"   [(ngModel)]="stockDiaryDto.units"></ion-input>
          </ion-item>
          <ion-item>
              <ion-label position="floating">Buy Price</ion-label>
              <ion-input type="number" [(ngModel)]="stockDiaryDto.price" value="250 " required></ion-input>
            </ion-item>

      <ion-button (click)="save()" margin mode="ios" expand="block" fill="solid" color="danger">Save</ion-button>
    </div>
  </div>

</ion-content>
